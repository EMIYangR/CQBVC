<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../js/vue.min.js"></script>
</head>

<body>
    <div id="app">
        <fieldset>
            <legend>创建新员工</legend>
            <p><label>姓名：</label><input type="text" v-model="newPerson.name"></p>
            <p><label>年龄：</label><input type="text" v-model="newPerson.age"></p>
            <p>
                <label>性别：</label>
                <select name="" id="" v-model="newPerson.sex">
                    <option value="男">男</option>
                    <option value="女">女</option>
                </select>
            </p>

            <p><button @click="createPerson">添加</button></p>
        </fieldset>

        <table>
            <tr>
                <th>编号</th>
                <th>姓名</th>
                <th>性别</th>
                <th>删除</th>
            </tr>
            <tr v-for="(item,index) in emps" :key="index">
                <td>{{index}}</td>
                <td>{{item.name}}</td>
                <td>{{item.age}}</td>
                <td><button @click="deletePerson(index)">删除</button></td>
            </tr>
        </table>
    </div>

    <script>
        new Vue({
            el: "#app",
            data: {
                title: "员工信息列表",
                newPerson: {
                    name: "",
                    age: 0,
                    sex: "男"
                },
                emps: [
                    { name: "张三", age: 20, sex: "男" },
                    { name: "李四", age: 23, sex: "女" },
                    { name: "王五", age: 32, sex: "女" },
                    { name: "赵六", age: 34, sex: "男" }
                ]
            },
            methods: {
                createPerson() {
                    this.emps.push(this.newPerson);
                    this.newPerson = {
                        name: "",
                        age: 0,
                        sex: "男"
                    }
                },
                deletePerson() {
                    if (confirm("删除当前员工信息吗？")) {
                        this.emps.splice(index, 1);
                    }
                }
            },
        })
    </script>
</body>

</html>